<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            // 深拷贝拷贝多层, 每一级别的数据都会拷贝.
            var obj = {
                id: 1,
                name: "andy",
                msg: {
                    age: 18,
                },
                color: ["pink", "red"],
            };
            var o = {};
            function deepCopy(newobj,old) {
                for (var k in old) {
                    var item = old[k]
                    if (
                        // Object.prototype.toString.call(item) === '[object Arrary]'
                        item instanceof Array
                    ) {
                        newobj[k] = []
                        deepCopy(newobj[k], item)
                    }else if (item instanceof Object) {
                        newobj[k] = {}
                        deepCopy(newobj[k], item)
                    }else {
                        newobj[k] = item
                    }
                }
            }
            deepCopy(o,obj)
        </script>
    </body>
</html>
